{% extends "layout.html" %}

{% block title %}Новости{% endblock %}

{% block content %}
<h1>Новости</h1>
<div class="news-list">
    {% for news in page_obj %}
    <div class="news-item">
        <h2><a href="{% url 'news_detail' news.pk %}" style="text-decoration: none; color: #007bff;">{{ news.title }}</a></h2>
        <img src="{{ news.image.url }}" alt="{{ news.title }}" style="max-width: 100%;">
        <p>{{ news.content|truncatewords:30 }}</p>
        <a href="{% url 'news_detail' news.pk %}" style="text-decoration: none; padding: 10px 15px; background: #007bff; color: white; border-radius: 5px;">Читать далее</a>
    </div>
    
    {% endfor %}
</div>
<div class="pagination" style="text-align: center; margin-top: 20px;">
    <nav>
        <ul style="list-style: none; padding: 0; display: inline-flex; gap: 10px;">
            {% if page_obj.has_previous %}
                <li><a href="?page=1" style="text-decoration: none; padding: 10px 15px; background: #007bff; color: white; border-radius: 5px;">&laquo; Первая</a></li>
                <li><a href="?page={{ page_obj.previous_page_number }}" style="text-decoration: none; padding: 10px 15px; background: #007bff; color: white; border-radius: 5px;">Предыдущая</a></li>
            {% endif %}

            {% for num in page_obj.paginator.page_range %}
                {% if page_obj.number == num %}
                    <li><span style="padding: 10px 15px; background: #0056b3; color: white; border-radius: 5px;">{{ num }}</span></li>
                {% else %}
                    <li><a href="?page={{ num }}" style="text-decoration: none; padding: 10px 15px; background: #007bff; color: white; border-radius: 5px;">{{ num }}</a></li>
                {% endif %}
            {% endfor %}

            {% if page_obj.has_next %}
                <li><a href="?page={{ page_obj.next_page_number }}" style="text-decoration: none; padding: 10px 15px; background: #007bff; color: white; border-radius: 5px;">Следующая</a></li>
                <li><a href="?page={{ page_obj.paginator.num_pages }}" style="text-decoration: none; padding: 10px 15px; background: #007bff; color: white; border-radius: 5px;">Последняя &raquo;</a></li>
            {% endif %}
        </ul>
    </nav>
</div>
{% endblock %}
